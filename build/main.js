// Generated by CoffeeScript 1.3.3
(function() {
  var c, f, korp_url;

  c = typeof console !== "undefined" && console !== null ? console : {
    log: $.noop
  };

  korp_url = "http://mac12.svenska.gu.se:8000";

  $(function() {
    var _this = this;
    c.log("starting up");
    $("#content form").submit(false);
    $("#content input.send").click(function() {
      return $.getJSON(korp_url, {
        text: $("#content textarea").val()
      }, function(data) {
        var sents;
        window.data = data;
        sents = _.flatten(_.pluck(data.kwic, "tokens"));
        return $("#wordTmpl").tmpl(sents).appendTo("#result");
      });
    }).click();
    $("body").bind("keydown", function(event) {
      if (event.which === 27) {
        return $("#flip").removeClass("flipped");
      }
    });
    $("#get_article").click(function() {
      return $("#flip").addClass("flipped");
    });
    $("iframe").load(function() {
      return $("#mainnews p:first", $("iframe").get(0).contentDocument).bind("mouseenter", function() {
        return $(this).css("background-color", "lightblue");
      }).bind("mouseleave", function() {
        return $(this).css("background-color", "white");
      }).click(function() {
        $("#content textarea").val($(this).text());
        return $("#flip").removeClass("flipped");
      });
    });
    return $(".corner").load("img/arrow.svg").click(function() {
      return $("#flip").removeClass("flipped");
    });
  });

  f = "lollllhadrar";

}).call(this);
